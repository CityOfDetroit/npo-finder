parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"mAbx":[function(require,module,exports) {

},{}],"Kuj2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{constructor(e,t){this.form=null,this.controller=t,this.user=null,this.init(document.getElementById(e),this)}init(e,t){let r=document.createElement("form"),s=document.createElement("label"),a=document.createElement("input"),i=(document.createElement("ul"),document.createElement("datalist")),n=document.createElement("i");r.addEventListener("submit",e=>{this.submit(e,t)}),n.className="fas fa-map-marker-alt",s.innerText="Find your NPO:",s.setAttribute("for","geocoder-input"),a.type="text",a.setAttribute("list","addresses-list"),a.placeholder="Enter address",a.setAttribute("id","geocoder-input"),a.setAttribute("autocomplete","off"),a.addEventListener("keyup",e=>{this.inputChange(e,t)}),i.setAttribute("id","addresses-list"),r.appendChild(s),r.appendChild(a),r.appendChild(n),r.appendChild(i),e.appendChild(r),this.form=r}supplementGeocoder(e,t,r){let s=e.split(",");s=(s=s[0]).split(" ");let a="",i=s.length;s.forEach(function(e,t){a+=e,t<i&&t+1!==i&&(a+="+")});let n=`https://gis.detroitmi.gov/arcgis/rest/services/DoIT/CompositeGeocoder/GeocodeServer/findAddressCandidates?Street=&City=&ZIP=&SingleLine=${a}&category=&outFields=User_fld&maxLocations=4&outSR=4326&searchExtent=&location=&distance=&magicKey=&f=json`;try{fetch(n).then(e=>e.json()).then(function(e){if("suggestions"===r)e.candidates.forEach(e=>{let r=document.createElement("option");""===e.attributes.User_fld?(r.value=e.address,r.setAttribute("data-parsel","no-parcel")):(r.value=`${e.address} RECOMMENDED`,r.setAttribute("data-parsel",e.attributes.User_fld)),r.onclick=(e=>{t.selectSuggestion(e,t)}),t.form.childNodes[3].appendChild(r)});else{let r=`https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/City_of_Detroit_Boundary/FeatureServer/0/query?where=&objectIds=&time=&geometry=${e.candidates[0].location.x}%2C+${e.candidates[0].location.y}&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=4326&returnGeometry=true&returnCentroid=false&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=geojson&token=`;try{fetch(r).then(e=>e.json()).then(function(r){r.features.length&&t.controller.dataManager.buildData(e.candidates[0],t.controller)})}catch(s){}}})}catch(o){}}selectSuggestion(e,t){let r=null;"no-parcel"===(r="SPAN"===e.target.tagName?e.target.parentNode:e.target).attributes[0].value?(t.clearSuggestions(t),t.supplementGeocoder(r.innerText,t,"submit")):t.supplementGeocoder(r.innerText,t,"submit")}inputChange(e,t){switch(e.key){case"Enter":""!=e.target.value&&null!=e.target.value&&t.supplementGeocoder(e.target.value,t,"submit");break;case"ArrowDown":case"ArrowUp":case"ArrowRight":case"ArrowLeft":break;case void 0:""!=e.target.value&&null!=e.target.value&&t.supplementGeocoder(e.target.value,t,"submit");break;default:t.clearSuggestions(t),t.supplementGeocoder(e.target.value,t,"suggestions")}}clearSuggestions(e){for(;e.form.childNodes[3].firstChild;)e.form.childNodes[3].removeChild(e.form.childNodes[3].firstChild)}submit(e,t){e.preventDefault(),t.supplementGeocoder(e.target[0].value,t,"submit")}}exports.default=e;
},{}],"ajRY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{constructor(){}creatPanel(e,t){let r=null;"all"==e?(r=t.panel.createMarkup(t.allNPOs),document.querySelector("#npo-results h2").innerText="All NPOs"):(r=t.panel.createMarkup(t.tempNPO),document.querySelector("#npo-results h2").innerText="Your NPO"),document.querySelector("#npo-results .npo-content").innerHTML=r,document.getElementById("npo-results").className="active"}createMarkup(e){return`\n    ${e.map(e=>`<article class="info-section">\n        <p><strong>Name:</strong> ${e.attributes.police_officer}</p>\n        <p><strong>Phone:</strong> ${e.attributes.phone_number}</p>\n        <p><strong>Email:</strong> ${e.attributes.email}</p>\n      </article>`).join("")}\n    `}}exports.default=e;
},{}],"EDAI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{constructor(){}getAllData(e){let t=new Promise((e,t)=>{return fetch("https://opengis.detroitmi.gov/opengis/rest/services/PublicSafety/NeighborhoodPoliceOfficers/FeatureServer/0/query?where=1%3D1&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&returnCentroid=false&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=").then(e=>e.json()).then(function(t){e(t)})});Promise.all([t]).then(t=>{let r=[],s=[];t[0].features.forEach((e,t)=>{" "!=e.attributes.police_officer&&null!=e.attributes.police_officer&&(0==t?(r.push(e),s.push(e.attributes.police_officer)):s.includes(e.attributes.police_officer)||(r.push(e),s.push(e.attributes.police_officer)))}),e.allNPOs=r,e.panel.creatPanel("all",e)}).catch(e=>{console.log(e)})}buildData(e,t){e.address;let r=new Promise((t,r)=>{let s=`https://opengis.detroitmi.gov/opengis/rest/services/PublicSafety/NeighborhoodPoliceOfficers/FeatureServer/0/query?where=&objectIds=&time=&geometry=${e.location.x}%2C${e.location.y}&geometryType=esriGeometryPoint&inSR=&spatialRel=esriSpatialRelIntersects&distance=&units=esriSRUnit_Foot&relationParam=&outFields=*&returnGeometry=true&maxAllowableOffset=&geometryPrecision=&outSR=&havingClause=&gdbVersion=&historicMoment=&returnDistinctValues=false&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&multipatchOption=xyFootprint&resultOffset=&resultRecordCount=&returnTrueCurves=false&returnExceededLimitFeatures=false&quantizationParameters=&returnCentroid=false&sqlFormat=none&resultType=&featureEncoding=esriDefault&datumTransformation=&f=json`;return fetch(s).then(e=>e.json()).then(function(e){t(e)})});Promise.all([r]).then(e=>{t.tempNPO=e[0].features,t.panel.creatPanel("single",t)}).catch(e=>{console.log(e)})}}exports.default=e;
},{}],"Gv1W":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("./geocoder.class")),a=l(require("./panel.class")),t=l(require("./data-manager.class"));function l(e){return e&&e.__esModule?e:{default:e}}class r{constructor(){this.tempNPO=null,this.allNPOs=null,this.panel=new a.default,this.dataManager=new t.default,this.geocoder=new e.default("geocoder",this),this.initialLoad(this)}initialLoad(e){e.dataManager.getAllData(e)}loadDefault(e){e.panel.creatPanel("all",e)}closeAlert(e){"alert-overlay"===e.target.parentNode.parentNode.id?document.getElementById("alert-overlay").className="":document.getElementById("drill-down-overlay").className=""}}exports.default=r;
},{"./geocoder.class":"Kuj2","./panel.class":"ajRY","./data-manager.class":"EDAI"}],"Focm":[function(require,module,exports) {
"use strict";require("./scss/styles.scss");var e=s(require("./js/controller.class.js"));function s(e){return e&&e.__esModule?e:{default:e}}!function(){let s=new e.default;document.getElementById("clear-services-btn").addEventListener("click",function(){document.getElementById("npo-results").className="",s.loadDefault(s),s.geocoder.form.reset()})}(window);
},{"./scss/styles.scss":"mAbx","./js/controller.class.js":"Gv1W"}]},{},["Focm"], null)